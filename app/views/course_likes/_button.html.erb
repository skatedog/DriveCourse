<% if user_signed_in? %>
  <% if course.liked_by?(current_user) %>
    <%= link_to course_course_likes_path(course), method: :delete, remote: true, class: "like", id: "course_like-#{course.id}" do %>
      <%= render partial: "layouts/like", locals: { count: course.course_likes.length } %>
    <% end %>
  <% else %>
    <%= link_to course_course_likes_path(course), method: :post, remote: true, class: "like", id: "course_like-#{course.id}" do %>
      <%= render partial: "layouts/nolike", locals: { count: course.course_likes.length } %>
    <% end %>
  <% end %>
<% else %>
  <div class="like">
    <%= render partial: "layouts/like", locals: { count: course.course_likes.length } %>
  </div>
<% end %>