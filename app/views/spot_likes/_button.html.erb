<% if user_signed_in? %>
  <% if spot.liked_by?(current_user) %>
    <%= link_to course_spot_spot_likes_path(spot.course, spot), method: :delete, remote: true, class: "like", id: "spot_like-#{spot.id}" do %>
      <%= render partial: "layouts/like", locals: { count: spot.spot_likes.size } %>
    <% end %>
  <% else %>
    <%= link_to course_spot_spot_likes_path(spot.course, spot), method: :post, remote: true, class: "like", id: "spot_like-#{spot.id}" do %>
      <%= render partial: "layouts/nolike", locals: { count: spot.spot_likes.size } %>
    <% end %>
  <% end %>
<% else %>
  <div class="like">
    <%= render partial: "layouts/like", locals: { count: spot.spot_likes.size } %>
  </div>
<% end %>